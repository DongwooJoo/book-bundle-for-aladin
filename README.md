# 📚 북번들 (BookBundle)

알라딘 온라인 중고서점에서 여러 책을 한 판매자에게 일괄 구매하여 배송비를 절약할 수 있도록, 장바구니 책들을 함께 파는 판매자를 찾아주는 서비스입니다.

## 🎯 문제 해결

**문제**: 알라딘 중고서점에서 책을 구매할 때, 각 책이 서로 다른 판매자에게서 판매되어 배송비가 여러 번 발생

**해결**: 여러 책을 동시에 보유한 판매자를 찾아 한 번에 구매 → 배송비 절약!

## 🛠️ 기술 스택

### Backend
- Java 21
- Spring Boot 3.2
- Jsoup (HTML 크롤링)
- Gradle

### Frontend
- React 18 + TypeScript
- Vite
- TailwindCSS

### Chrome Extension
- Manifest V3
- Content Scripts

---

## 🚀 실행 방법

### 1. Backend 실행

```bash
cd backend
./gradlew bootRun
```

서버가 `http://localhost:8080`에서 실행됩니다.

### 2. Frontend 실행

```bash
cd frontend
npm install
npm run dev
```

브라우저에서 `http://localhost:5173`을 열어주세요.

### 3. Chrome 확장프로그램 설치

1. Chrome 브라우저에서 `chrome://extensions/` 접속
2. 우측 상단의 **개발자 모드** 토글 활성화
3. **압축 해제된 확장 프로그램을 로드합니다** 클릭
4. 이 프로젝트의 `extension` 폴더 선택
5. 확장이 설치되면 브라우저 툴바에 📚 아이콘이 나타납니다

---

## 📖 사용 방법

북번들은 **두 가지 방법**으로 사용할 수 있습니다:

### 방법 1: 웹앱에서 직접 검색하기

가장 간단한 방법입니다.

1. **웹앱 접속**: `http://localhost:5173` 접속
2. **책 검색**: 검색창에 구매하고 싶은 책의 제목을 입력
3. **책 추가**: 검색 결과에서 원하는 책의 `+` 버튼을 클릭하여 내 목록에 추가
4. **목록 확인**: 우측 상단의 "내 책 목록" 버튼을 클릭하여 추가된 책 확인
5. **등급 설정**: 각 책마다 원하는 최소 등급(최상/상/중)을 설정
6. **판매자 찾기**: "판매자 찾기" 버튼 클릭
7. **결과 확인**: 보유 권수가 많은 순으로 판매자 목록이 표시됩니다

### 방법 2: 알라딘 장바구니에서 가져오기 (Chrome 확장)

이미 알라딘 장바구니에 책이 담겨 있다면 더욱 편리합니다.

1. **웹앱 실행**: 먼저 Frontend와 Backend가 실행 중인지 확인
2. **알라딘 접속**: [알라딘](https://www.aladin.co.kr) 로그인 후 장바구니 페이지 이동
3. **확장 클릭**: 브라우저 툴바의 📚 아이콘 클릭
4. **책 추출**: "책 정보 추출" 버튼 클릭 → 장바구니의 책 목록이 표시됨
5. **전송**: "북번들로 전송" 버튼 클릭
6. **웹앱에서 확인**: 자동으로 새 탭이 열리며 책 정보가 로드됩니다
7. **판매자 찾기**: 등급을 확인하고 "판매자 찾기" 버튼 클릭

---

## ✨ 주요 기능

### 웹앱 기능

| 기능 | 설명 |
|------|------|
| **책 검색** | 알라딘 API를 통해 책 제목으로 검색 |
| **내 책 목록** | 구매하고 싶은 책들을 임시 저장 |
| **등급 설정** | 책별로 원하는 최소 품질 등급 지정 (최상/상/중) |
| **일괄 등급 변경** | 모든 책의 등급을 한 번에 변경 |
| **판매자 분석** | 여러 책을 보유한 판매자를 찾아 정렬 |
| **결과 정렬** | 보유 권수 많은 순, 총 가격 낮은 순 등으로 정렬 |

### Chrome 확장 기능

| 기능 | 설명 |
|------|------|
| **장바구니 인식** | 알라딘 장바구니 페이지 자동 감지 |
| **책 정보 추출** | 장바구니의 책 제목, 등급, 가격, 표지 추출 |
| **북번들 전송** | 추출한 정보를 웹앱으로 자동 전송 |

---

## 📁 프로젝트 구조

```
book-bundle-for-aladin/
├── backend/                    # Spring Boot 백엔드
│   ├── src/main/java/com/bookbundle/
│   │   ├── controller/         # REST API 컨트롤러
│   │   ├── service/            # 비즈니스 로직
│   │   ├── crawler/            # 알라딘 크롤링
│   │   ├── dto/                # 데이터 객체
│   │   └── config/             # 설정
│   └── build.gradle
│
├── frontend/                   # React 프론트엔드
│   ├── src/
│   │   ├── components/         # React 컴포넌트
│   │   ├── api/                # API 호출
│   │   └── types/              # TypeScript 타입
│   └── package.json
│
├── extension/                  # Chrome 확장프로그램
│   ├── manifest.json           # 확장 설정 (Manifest V3)
│   ├── content.js              # 알라딘 페이지 스크립트
│   ├── popup.html/js/css       # 팝업 UI
│   └── icons/                  # 확장 아이콘
│
└── docs/                       # 문서
    └── 알라딘 Open API 매뉴얼.md
```

---

## 🔧 API 엔드포인트

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/books/search?keyword={검색어}` | 책 검색 |
| POST | `/api/bundle/analyze` | 북번들 분석 |
| GET | `/api/health` | 헬스 체크 |

---

## 🐛 문제 해결

### 확장이 작동하지 않는 경우
1. 알라딘 **장바구니 페이지**(`/shop/wbasket.aspx`)인지 확인
2. 확장 아이콘 클릭 시 "알라딘 장바구니 페이지입니다" 메시지 확인
3. 개발자 도구(F12) > Console에서 오류 확인

### 데이터가 웹앱에 로드되지 않는 경우
1. 북번들 웹앱(`http://localhost:5173`)이 실행 중인지 확인
2. 백엔드 서버(`http://localhost:8080`)가 실행 중인지 확인
3. 브라우저 콘솔에서 `[북번들]` 로그 확인

### 판매자 분석이 느린 경우
- 알라딘 서버 부하를 고려하여 요청 간격이 설정되어 있습니다
- 책이 많을수록 분석 시간이 길어질 수 있습니다

---

## ⚠️ 주의사항

- 이 서비스는 알라딘 웹사이트를 크롤링하여 정보를 수집합니다
- 알라딘 서버 부하를 고려하여 요청 간격을 500ms로 설정했습니다
- 이 서비스는 알라딘과 무관한 개인 프로젝트입니다

## 📝 라이선스

MIT License
